# システム開発における集合知に基づく適切な工期の導出方法

お客様から６ヶ月後にリリースしたいシステムの概算見積依頼を受けたとします。工数[^工数]見積を行い、約 50 人月[^人月]であることがわかりました。このシステムは６ヶ月の工期でカットオーバーを迎えられるでしょうか？

50 人月なら 8〜10 人ぐらいのエンジニアチームで６ヶ月あれば作りきれそう、という気がしなくもないですが、この「できそうな感覚」で進めてしまうと先々プロジェクトが炎上しかねません。本記事では適切な工数が見積もれる、という前提の元、どのように工期を見積もるべきか、を考えていきます。

## 人月の神話

1975 年発行の、IT 関連では古典とも言える『人月の神話[^人月の神話]』という書籍をご存知でしょうか。有名なタイトルなので名前だけは聞いたことがある方は多いのではないかと思います。この書籍では書籍タイトルとなっている「人月の神話」の章で以下のように述べられています。

> コストは実際に人数と月数の積に比例する。が、進捗はそうではない。したがって、仕事の大きさを測る単位としての人月は、疑うべき危険な神話[^神話]なのだ。人月とは人と月が互いに交換できるという意味だからである。
>
> -- 『人月の神話』より引用

『人月の神話』の主張通り、人数と期間は交換可能ではないため、適切な工数を見積もったとしても適切な期間が見積もれないとシステム開発は成功しません。

冒頭に述べたシステムの概算見積を再び見てみましょう。

50 人月のシステム開発のリリースが１年後ということなら、なんとなくできそうな気がしませんか？　これが３ヶ月なら感覚的に無理な気がしませんか？　では６ヶ月ならどうでしょうか？　行けそうでしょうか？　微妙な感じでしょうか？　後ほど答え合わせをするので是非予想してみてください。

実はこの工期見積を、こうした感覚ではなく計算式で算出する方法が存在します。

## 適切な期間の導出

工数から工期を導出するためのメトリクスは、ソフトウェア開発における集合知であるいくつかの資料から得られます。以下は IPA 独立行政法人　情報処理推進機構の調査報告書からの引用です。

> 工期（月数）は工数の３乗根に概ね比例
>
> -- 『ソフトウェア開発データ白書の読み方[^IPA]』より引用

次に一般社団法人　日本情報システム・ユーザー協会（以降 JUAS）の調査報告書からの引用です。

> 全体工期は全体工数の3乗根（立方根）の2.70倍である。
>
> -- 『ソフトウェアメトリックス調査2020 システム開発・保守調査[^JUAS2020]』より引用

それぞれを計算式で表してみます。

IPA:

```math
工期 ＝ A \times 工数^{0.31}
```

JUAS:

```math
全体工期 = 2.7 \times \sqrt[3]{全体工数}
```

IPA の計算式内の `A` は係数です。若干の表現の違いはあるものの、工数の三乗根（立方根）に係数を掛けると工期が算出できるようです。JUAS はこの係数を前述の資料では 2.7 と定義していますが、2007 年版の報告書では 2.4 としていたようです[^@IT]。2013 年版の報告書では 2.58 としていたようです[^unisys]。2018 年版の報告書[^JUAS2018]では 2.67 としていました。表にまとめると以下の通りです。

時期 | 係数
---- | ----
2007 | 2.4
2013 | 2.58
2018 | 2.67
2020 | 2.7

年々係数が増加しています。昨今のシステム開発の複雑さが係数を年々増加させているということだと思います。本記事では 2020 年版の 2.7 を採用して話を進めようと思います。

それでは冒頭で挙げた 50 人月のシステムの標準工期を JUAS の計算式で算出してみましょう。

```haskell
ghci> 2.7 * 50 ** (1 / 3)
9.946885046329044
ghci>
```

結果は 9.94 ヶ月でした。50 人月のシステム開発であれば約 10 ヶ月の工期が必要、というのが IPA や JUAS による数千プロジェクトのメトリクスを用いた結果です。６ヶ月では工期が足りない、というのが答えです。あなたの予想は正しかったでしょうか？

## 総括

システム開発において、IPA や JUAS のメトリクスを活用することで、感覚に頼らない適切な工期を工数から導出できます。彼らの資料には工期の 20〜25％が要件定義、設計から結合テストが 60％、残りがユーザーによるテストである、などの統計もまとめられており、システム開発の見積に関わるエンジニアは目を通しておく価値のある報告書です。

さて、冒頭の見積では 50 人月の開発規模のシステムを６ヶ月後にリリースするのがお客様の希望でしたが、集合知に照らし合わせると約 10 ヶ月の工期が必要であることがわかりました。開発ベンダー側の工夫や努力で工期の短縮は可能ではありますが、それだけでは 1.67 倍の工期のギャップを埋めるのは難しいです。開発スコープを小さくすることも考えられますが、６ヶ月の工期にフィットする開発規模は 10 人月程度であり、80％にあたる 40 人月のカットは現実的ではないため、工数と工期の関係性をお客様に丁寧に説明してスケジュールの見直しを検討していただくのが上策、ということになるでしょう。

[^工数]: 仕事量を表す。単位は後述する人月がよく用いられるが人日や人時などもある。
[^人月]: １人が１ヶ月働いた際の仕事量は１人月。１人が２ヶ月働いた場合も２人が１ヶ月働いた場合も同様に２人月の計算となり、これが混乱の原因である。
[^神話]: 人数と期間が交換可能であることが常識とされていた背景については、仕様書通りにプログラムを起こすプログラマの仕事は単純労働であり、またどのプログラマの生産性も一定である、という考え方がこれよりも前の時代にあったのかも知れない。
[^人月の神話]: https://www.maruzen-publishing.co.jp/item/?book_no=294733
[^IPA]: https://www.ipa.go.jp/files/000005269.pdf
[^JUAS2020]: https://juas.or.jp/cms/media/2020/05/20swm_pr.pdf
[^@IT]: https://atmarkit.itmedia.co.jp/news/200707/05/juas.html
[^JUAS2018]: http://www.juas.or.jp/cms/media/2018/05/swm18_kh_ppt.pdf
[^unisys]: https://pr.biprogy.com/tec_info/tr131/13102.pdf
